<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- <script src="script.js"></script>
		<link rel="stylesheet" href="style.css" /> -->
        <link rel="stylesheet" href="./css/style.css">
        <link rel="stylesheet" href="./css/bootstrap.min.css">
		<meta charset="UTF-8" />
		<meta name="viewport"content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
    <style>
      body {
  font-family: arial, sans-serif;
  font-size: 14px;
}

table {
  font-family: arial, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td,
th {
  border: 1px solid #dddddd;
  text-align: left;
  padding: 8px;
}

th {
  background-color: #ccd;
}

tr:nth-child(even) {
  background-color: #ecf6fc;
}

tr:nth-child(odd) {
  background-color: #ddeedd;
}

    </style>
	</head>
	<body>
<div>
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
       
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
			  <span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
			  <div class="navbar-nav">
			  
				<a class="nav-item nav-link" href="./todo.html">Todo List</a>
				<a class="nav-item nav-link" href="./index.html">Logout</a>
			   
				<!-- <a class="nav-item nav-link disabled" href="#">Disabled</a> -->
			  </div>
			</div>
		  </nav>
    </div>


		<!-- Here a loader is created which
			loads till response comes -->
		<!-- <div class="d-flex justify-content-center">
			<div class="spinner-border"
				role="status" id="loading">
				<span class="sr-only">Loading...</span>
			</div>
		</div>
        <button id="select">Select Two Wheelers</button> -->
		<!-- table for showing data -->
    <div>
		<table id="todo">
           
        </table>
      </div>

<script>
    // api url
const api_url =
	"https://jsonplaceholder.typicode.com/todos";

// Defining async function
async function getapi(url) {
	
	// Storing response
	const response = await fetch(url);
	
	// Storing data in form of JSON
	var data = await response.json();
	console.log(data);
	if (response) {
		// hideloader();
	}
	show(data);
}
// Calling that async function
getapi(api_url);

// // Function to hide the loader
// function hideloader() {
// 	document.getElementById('loading').style.display = 'none';
// }
// Function to define innerHTML for HTML table
function show(data) {
	let tab =
		`<tr>
		 <th>Id</th>
		<th>Title</th>
		<th>Status</th>
		
	    </tr>`;
	
	// Loop to access all rows
	for (let r of data) {
		tab += `<tr>
    <td>${r.id} </td>
	<td>${r.title}</td>
	<td><input type="checkbox" onclick=countcheck() id=${r.id} ${checkval(r.completed)} class="tasktask" value=${r.title}>${r.title}	 </td>
	
</tr>`;

	}
	// Setting innerHTML as tab variable
document.getElementById("todo").innerHTML = tab;
	console.log(tab);
}
	function checkval(stat){
console.log(stat)  ;
if(stat){
	return "checked";
}
 else {
	 return null ;
	}
}
 function countcheck(){

    function myDisplayer() {
        alert("Congrats , You have successfully completed 5 Tasks")
    }
    
    let Count = new Promise(function(myResolve, myReject) {
        var markedCheckbox = document.querySelectorAll('input[type="checkbox"]:checked');
        x=markedCheckbox.length;
        console.log(x);
   
        if (x == 95) {
        myResolve("OK");
        } 
    });
    
    Count.then(
        function() {myDisplayer();}
    );
}




 


</script>

	</body>
</html>

